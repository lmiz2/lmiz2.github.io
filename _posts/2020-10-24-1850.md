---
title:  "[Network]내부망을 가능하게 만드는 NAT와 NAPT에 대하여"
date:   2020-10-24 18:51:00 +0900
categories: Network
tags : [Network,NAT,NAPT]
---





회사에서 일을 하다 보면, 내부망, 외부망 이라는 단어가 자주 들린다.

어렴풋이 회사 인트라넷을 구분하는 단어겠거니, 하고 자세한 개념은 모른채 넘어갔었는데,

문득 하나의 공인 IP로 어떻게 이 많은 컴퓨터들이 인터넷과 연결될까? 하는 궁금증이 생겼고,

그 답이 NAT(NAPT) 에 있다는것을 알게 되었다.



# NAT (Network Address Translation)

NAT는 1개의 공인IP 주소에 N개의 사설(가상) IP주소를 매핑하는 주소변환 기술의 이름이다.

현재 IPv4의 주소는 전 세계적으로 고갈 상태에 있는데, NAT는 이 고갈되어가는 주소에 대한 효과적인 해결책 중 하나이며, 회사같은 하나의 공동체에서 보안성을 향상시키기 위한 수단으로 활용될수도 있다.

다음과 같이 여러개의 사설망 IP와, 하나의 공인IP를 할당받은 라우터가 있다고 가정해보자.
![](/assets/img/2020-10-25-232445.png)

(여기에 쓰인 IP주소는 임의의 주소이며, 이해를 돕기위해 사용되었다.)

이러한 상황에서 [사설망 클라이언트 1]이 외부 서버에 IPv4 패킷을 전송하게되면, 라우터는 이 패킷의 출발지 IP를 사설망 IP에서 공인IP주소로 변환한 후, 라우팅 테이블에 맵핑 정보를 기록한다.

![](/assets/img/2020-10-26-223406.png)

